{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\vpd121\\\\my-app\\\\src\\\\components\\\\product\\\\list\\\\ProductListPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport './ProductListPage.css';\nimport http_common from \"../../../http_common\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductListPage = () => {\n  _s();\n  const [products, setList] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [pictures, setPictures] = useState([]);\n  useEffect(() => {\n    http_common.get(\"api/product\").then(resp => {\n      const {\n        data\n      } = resp;\n      setList(data);\n    });\n    http_common.get(\"api/category\").then(resp => {\n      const {\n        data\n      } = resp;\n      setCategories(data);\n    });\n    http_common.get(\"api/product_images\").then(resp => {\n      const {\n        data\n      } = resp;\n      setPictures(data);\n    });\n  }, []);\n  const getCategoryName = categoryId => {\n    const category = categories.find(cat => cat.id === categoryId);\n    return category ? category.name : \"\";\n  };\n  const getPricture = ProductId => {\n    const picture = pictures.find(pict => pict.product_id === ProductId && pict.priority === 1);\n    return picture ? picture.name : \"\";\n  };\n  const listMap = products.map(item => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"card-img-top\",\n        src: getPricture(item.id),\n        alt: \"\\u0412\\u0456\\u0434\\u0441\\u0443\\u0442\\u043D\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: [getCategoryName(item.category_id), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-primary\",\n            children: [item.price, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 86\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-outline-success\",\n          to: `product/details/${item.id}`,\n          children: \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0456\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"head\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"display-4\",\n          children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-primary\",\n          to: `/product/create`,\n          children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row row-cols-1 row-cols-md-3 g-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card h-100 container-products\",\n            children: listMap\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(ProductListPage, \"XclQn31IubbewUnWZWz+xoEFSyQ=\");\n_c = ProductListPage;\nexport default ProductListPage;\nvar _c;\n$RefreshReg$(_c, \"ProductListPage\");","map":{"version":3,"names":["React","useEffect","useState","http_common","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductListPage","_s","products","setList","categories","setCategories","pictures","setPictures","get","then","resp","data","getCategoryName","categoryId","category","find","cat","id","name","getPricture","ProductId","picture","pict","product_id","priority","listMap","map","item","children","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","category_id","price","to","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/vpd121/my-app/src/components/product/list/ProductListPage.tsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport './ProductListPage.css';\nimport {IProductItem} from \"./types\";\nimport http_common from \"../../../http_common\";\nimport {Link} from \"react-router-dom\";\nimport {ICategoryItem} from \"../../category/list/types\";\nimport {IPictureItem} from \"./types_photo\";\nconst ProductListPage = () =>\n{\n    const [products, setList] = useState<IProductItem[]>([]);\n    const [categories, setCategories] = useState<ICategoryItem[]>([]);\n    const [pictures, setPictures] = useState<IPictureItem[]>([]);\n    useEffect(() => {\n        http_common.get<IProductItem[]>(\"api/product\")\n            .then(resp => {\n                const {data} = resp;\n                setList(data);\n            });\n\n        http_common.get<ICategoryItem[]>(\"api/category\").then((resp) => {\n            const { data } = resp;\n            setCategories(data);\n        });\n\n        http_common.get<IPictureItem[]>(\"api/product_images\")\n            .then(resp => {\n                const { data } = resp;\n                setPictures(data);\n            });\n    }, []);\n\n    const getCategoryName = (categoryId: number) => {\n        const category = categories.find((cat) => cat.id === categoryId);\n        return category ? category.name : \"\";\n    };\n\n    const getPricture = (ProductId: number) => {\n        const picture = pictures.find((pict) => pict.product_id === ProductId && pict.priority === 1);\n        return picture ? picture.name : \"\";\n    };\n\n    const listMap = products.map(item => {\n        return (\n            <>\n                <img className=\"card-img-top\" src={getPricture(item.id)} alt=\"Відсутня\"/>\n                <div className=\"card-body text-center\">\n                    <h5 className=\"card-title\">{item.name}</h5>\n                    <p className=\"card-text\">{getCategoryName(item.category_id)}{\" \"}<span className=\"badge bg-primary\">{item.price}$</span></p>\n                    <Link className=\"btn btn-outline-success\" to={`product/details/${item.id}`}>Деталі</Link>\n                </div>\n            </>\n        )\n    });\n\n\n    return (\n        <>\n            <div className=\"head\">\n                <div className=\"text-center\">\n                    <h1 className=\"display-4\">Товари</h1>\n                    <Link className=\"btn btn-primary\" to={`/product/create`}>Додати</Link>\n                </div>\n                <div className=\"row row-cols-1 row-cols-md-3 g-4\">\n                    <div className=\"col\">\n                        <div className=\"card h-100 container-products\">\n                            {listMap}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n};\nexport default ProductListPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAO,uBAAuB;AAE9B,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,SAAQC,IAAI,QAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGtC,MAAMC,eAAe,GAAGA,CAAA,KACxB;EAAAC,EAAA;EACI,MAAM,CAACC,QAAQ,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAiB,EAAE,CAAC;EACxD,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAkB,EAAE,CAAC;EACjE,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAiB,EAAE,CAAC;EAC5DD,SAAS,CAAC,MAAM;IACZE,WAAW,CAACc,GAAG,CAAiB,aAAa,CAAC,CACzCC,IAAI,CAACC,IAAI,IAAI;MACV,MAAM;QAACC;MAAI,CAAC,GAAGD,IAAI;MACnBP,OAAO,CAACQ,IAAI,CAAC;IACjB,CAAC,CAAC;IAENjB,WAAW,CAACc,GAAG,CAAkB,cAAc,CAAC,CAACC,IAAI,CAAEC,IAAI,IAAK;MAC5D,MAAM;QAAEC;MAAK,CAAC,GAAGD,IAAI;MACrBL,aAAa,CAACM,IAAI,CAAC;IACvB,CAAC,CAAC;IAEFjB,WAAW,CAACc,GAAG,CAAiB,oBAAoB,CAAC,CAChDC,IAAI,CAACC,IAAI,IAAI;MACV,MAAM;QAAEC;MAAK,CAAC,GAAGD,IAAI;MACrBH,WAAW,CAACI,IAAI,CAAC;IACrB,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,eAAe,GAAIC,UAAkB,IAAK;IAC5C,MAAMC,QAAQ,GAAGV,UAAU,CAACW,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,EAAE,KAAKJ,UAAU,CAAC;IAChE,OAAOC,QAAQ,GAAGA,QAAQ,CAACI,IAAI,GAAG,EAAE;EACxC,CAAC;EAED,MAAMC,WAAW,GAAIC,SAAiB,IAAK;IACvC,MAAMC,OAAO,GAAGf,QAAQ,CAACS,IAAI,CAAEO,IAAI,IAAKA,IAAI,CAACC,UAAU,KAAKH,SAAS,IAAIE,IAAI,CAACE,QAAQ,KAAK,CAAC,CAAC;IAC7F,OAAOH,OAAO,GAAGA,OAAO,CAACH,IAAI,GAAG,EAAE;EACtC,CAAC;EAED,MAAMO,OAAO,GAAGvB,QAAQ,CAACwB,GAAG,CAACC,IAAI,IAAI;IACjC,oBACI9B,OAAA,CAAAE,SAAA;MAAA6B,QAAA,gBACI/B,OAAA;QAAKgC,SAAS,EAAC,cAAc;QAACC,GAAG,EAAEX,WAAW,CAACQ,IAAI,CAACV,EAAE,CAAE;QAACc,GAAG,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACzEtC,OAAA;QAAKgC,SAAS,EAAC,uBAAuB;QAAAD,QAAA,gBAClC/B,OAAA;UAAIgC,SAAS,EAAC,YAAY;UAAAD,QAAA,EAAED,IAAI,CAACT;QAAI;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC3CtC,OAAA;UAAGgC,SAAS,EAAC,WAAW;UAAAD,QAAA,GAAEhB,eAAe,CAACe,IAAI,CAACS,WAAW,CAAC,EAAE,GAAG,eAACvC,OAAA;YAAMgC,SAAS,EAAC,kBAAkB;YAAAD,QAAA,GAAED,IAAI,CAACU,KAAK,EAAC,GAAC;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC5HtC,OAAA,CAACF,IAAI;UAACkC,SAAS,EAAC,yBAAyB;UAACS,EAAE,EAAG,mBAAkBX,IAAI,CAACV,EAAG,EAAE;UAAAW,QAAA,EAAC;QAAM;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxF,CAAC;IAAA,eACR,CAAC;EAEX,CAAC,CAAC;EAGF,oBACItC,OAAA,CAAAE,SAAA;IAAA6B,QAAA,eACI/B,OAAA;MAAKgC,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACjB/B,OAAA;QAAKgC,SAAS,EAAC,aAAa;QAAAD,QAAA,gBACxB/B,OAAA;UAAIgC,SAAS,EAAC,WAAW;UAAAD,QAAA,EAAC;QAAM;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrCtC,OAAA,CAACF,IAAI;UAACkC,SAAS,EAAC,iBAAiB;UAACS,EAAE,EAAG,iBAAiB;UAAAV,QAAA,EAAC;QAAM;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrE,CAAC,eACNtC,OAAA;QAAKgC,SAAS,EAAC,kCAAkC;QAAAD,QAAA,eAC7C/B,OAAA;UAAKgC,SAAS,EAAC,KAAK;UAAAD,QAAA,eAChB/B,OAAA;YAAKgC,SAAS,EAAC,+BAA+B;YAAAD,QAAA,EACzCH;UAAO;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC,gBACR,CAAC;AAEX,CAAC;AAAClC,EAAA,CAjEID,eAAe;AAAAuC,EAAA,GAAfvC,eAAe;AAkErB,eAAeA,eAAe;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}